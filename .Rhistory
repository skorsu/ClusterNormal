Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:500), ]))
rm(list = ls())
set.seed(2)
K <- 10
xi_vec <- rep(1, K)
ci_vec <- sample(1:4, 100, TRUE)
dat <- rnorm(100, c(-15, -10, -5, 0)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:500), ]))
1:iter
table(ci_vec, salso(t(test_assign)[-(1:2500), ]))
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
table(ci_vec, salso(t(test_assign)[-(1:9000), ]))
### Test (3/21/2023): ----------------------------------------------------------
rm(list = ls())
set.seed(2)
K <- 20
xi_vec <- rep(1, K)
ci_vec <- sample(1:4, 100, TRUE)
dat <- rnorm(100, c(-15, -10, -5, 0)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:9000), ]))
rm(list = ls())
set.seed(2)
K <- 20
xi_vec <- rep(1, K)
ci_vec <- sample(1:4, 100, TRUE)
dat <- rnorm(100, c(-15, -10, -5, 0)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
# old_assign <- sample(1:1, length(dat), TRUE)
old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 20
xi_vec <- rep(1, K)
ci_vec <- sample(1:4, 100, TRUE)
dat <- rnorm(100, c(-10, -2.5, 2.5, 10)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
# old_assign <- sample(1:1, length(dat), TRUE)
old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
### Test (3/21/2023): ----------------------------------------------------------
rm(list = ls())
set.seed(2)
K <- 20
xi_vec <- rep(1, K)
ci_vec <- sample(1:4, 100, TRUE)
dat <- rnorm(100, c(-100, -50, 50, 100)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
# old_assign <- sample(1:1, length(dat), TRUE)
old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 20
xi_vec <- rep(1, K)
ci_vec <- sample(1:4, 100, TRUE)
dat <- rnorm(100, c(-100, -50, 50, 100)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 20
n <- 500
xi_vec <- rep(1, K)
ci_vec <- sample(1:4, n, TRUE)
dat <- rnorm(n, c(-100, -50, 50, 100)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 20
n <- 500
xi_vec <- rep(1, K)
ci_vec <- sample(1:5, n, TRUE)
dat <- rnorm(n, c(-10, -5, 0, 5, 10)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 4
n <- 500
xi_vec <- rep(1, K)
ci_vec <- sample(1:5, n, TRUE)
dat <- rnorm(n, c(-10, -5, 0, 5, 10)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 7
n <- 500
xi_vec <- rep(1, K)
ci_vec <- sample(1:5, n, TRUE)
dat <- rnorm(n, c(-10, -5, 0, 5, 10)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 20
n <- 500
xi_vec <- rep(1, K)
ci_vec <- sample(1:5, n, TRUE)
dat <- rnorm(n, c(-10, -5, 0, 5, 10)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 20
n <- 500
xi_vec <- rep(1, K)
ci_vec <- sample(1:5, n, TRUE)
dat <- rnorm(n, c(-2, -1, 0, 1, 2)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 20
n <- 500
xi_vec <- rep(0.001, K)
ci_vec <- sample(1:5, n, TRUE)
dat <- rnorm(n, c(-2, -1, 0, 1, 2)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 20
n <- 500
xi_vec <- rep(0.001, K)
ci_vec <- sample(1:5, n, TRUE)
dat <- rnorm(n, c(-25, -1, 0, 1, 25)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 20
n <- 500
xi_vec <- c(rep(1, K/2), rep(0.001, K/2))
ci_vec <- sample(1:5, n, TRUE)
dat <- rnorm(n, c(-2, -1, 0, 1, 2)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 6
n <- 500
xi_vec <- c(rep(1, K/2), rep(0.001, K/2))
ci_vec <- sample(1:5, n, TRUE)
dat <- rnorm(n, c(-2, -1, 0, 1, 2)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
### Test (3/21/2023): ----------------------------------------------------------
rm(list = ls())
set.seed(2)
K <- 6
n <- 500
xi_vec <- c(rep(20, K/2), rep(0.001, K/2))
ci_vec <- sample(1:5, n, TRUE)
dat <- rnorm(n, c(-2, -1, 0, 1, 2)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
### Test (3/21/2023): ----------------------------------------------------------
rm(list = ls())
set.seed(2)
K <- 6
n <- 500
xi_vec <- c(rep(20, K/2), rep(0.001, K/2))
ci_vec <- sample(1:5, n, TRUE)
dat <- rnorm(n, c(-2, -1, 0, 1, 2)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(10, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, dat, alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 6
n <- 500
xi_vec <- rep(1, K)
ci_vec <- sample(1:2, n, TRUE)
dat <- rnorm(n, c(-5, 5)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
old_assign <- sample(1:1, length(dat), TRUE)
# old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, scale(dat), alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
rm(list = ls())
set.seed(2)
K <- 6
n <- 500
xi_vec <- rep(1, K)
ci_vec <- sample(1:2, n, TRUE)
dat <- rnorm(n, c(-5, 5)[ci_vec])
alpha_vec <- rep(1, K)
mu0_vec <- rep(1, K)
a_sigma_vec <- rep(1, K)
b_sigma_vec <- rep(1, K)
lambda_vec <- rep(1, K)
# old_assign <- sample(1:1, length(dat), TRUE)
old_assign <- ci_vec
start_time <- Sys.time()
iter <- 10000
test_assign <- matrix(NA, ncol = iter, nrow = length(dat))
for(i in 1:iter){
new_assign <- clus_alloc(K, old_assign, xi_vec, scale(dat), alpha_vec, mu0_vec,
a_sigma_vec, b_sigma_vec, lambda_vec)
test_assign[, i] <- new_assign
old_assign <- new_assign
}
Sys.time() - start_time
table(ci_vec, salso(t(test_assign)[-(1:5000), ]))
uninstall()
compileAttributes()
build()
install()
library(ClusterNormal)
sqrt(45) * 23.8/14.5
14.5/sqrt(45)
2*14.5/sqrt(45)
23.8 - 4.323065
23.8 + 4.323065
